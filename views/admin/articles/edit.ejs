<%- include('../../partials/header.ejs') %>
<body>
  <%- include('../../partials/navbar.ejs') %>

  <div class="container">
    <hr />
    <div class="card">
      <h2 class="card-header">Atualizar artigo</h2>
      <form class="card-body" action="/articles/edit" method="post">
        <input
          class="form-control"
          type="hidden"
          name="id"
          value="<%= article.id %>"
          placeholder="Defina o titulo da categoria"
        />
        <input
          class="form-control"
          type="text"
          name="title"
          value="<%=article.title%>"
          placeholder="Defina o titulo do artigo"
        />
        <br />
        <textarea
          class="form-control"
          name="content"
          id="article"
          placeholder="Escreva seu artigo aqui"
        >
          <%-article.body %>
        </textarea>
        <br />
        <select
          defaultValue="<%= article.category %>"
          name="category"
          class="form-control"
        >
          <% categories.forEach((category)=>{ %> <% if(category.id ===
          article.categoryId){ %>
          <option value="<%= category.id %>" selected>
            <%= category.title %>
          </option>
          <% }else{ %>
          <option value="<%= category.id %>"><%= category.title %></option>
          <%}%> <% }) %>
        </select>
        <br />
        <button type="submit" class="btn btn-success">Atualizar</button>
      </form>
    </div>
  </div>
</body>
<%- include('../../partials/footer.ejs') %>
<script src="/tinymce/tinymce.min.js"></script>
<script>
  tinymce.init({
    language: "pt_BR",
    selector: "#article",
    plugins:
      "advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insetdatetime media save table pasts emoticon",
  });
</script>
